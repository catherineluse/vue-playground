<script lang="ts">
import { defineComponent, PropType } from "vue";
import { EventData } from "../../typings/eventTypes";
import {
  CalendarIcon,
  ChevronRightIcon,
  LocationMarkerIcon,
  UsersIcon,
} from "@heroicons/vue/solid";

export default defineComponent({
  setup() {},
  props: {
    event: {
      type: Object as PropType<EventData>,
      required: true,
    },
  },
  data() {
    return {
      previewIsOpen: false,
    };
  },
  components: {
    CalendarIcon,
    ChevronRightIcon,
    LocationMarkerIcon,
    UsersIcon,
  },
  emits: {
    openEventPreview(payload: EventData) {},
  },
});
</script>

<template>
  <li>
    <a href="#" class="block hover:bg-gray-50">
      <div @click="$emit('openEventPreview', event)" class="px-4 py-4 sm:px-6">
        <div class="flex items-center justify-between">
          <p class="text-sm font-medium text-indigo-600 truncate">
            {{ event.title }}
          </p>
          <div class="ml-2 flex-shrink-0 flex">
            <p
              class="
                px-2
                inline-flex
                text-xs
                leading-5
                font-semibold
                rounded-full
                bg-green-100
                text-green-800
              "
            >
              {{ event.type }}
            </p>
          </div>
        </div>
        <div class="mt-2 sm:flex sm:justify-between">
          <div class="sm:flex">
            <p class="flex items-center text-sm text-gray-500">
              <UsersIcon
                class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"
                aria-hidden="true"
              />
              {{ event.description }}
            </p>
            <p
              class="
                mt-2
                flex
                items-center
                text-sm text-gray-500
                sm:mt-0 sm:ml-6
              "
            >
              <LocationMarkerIcon
                class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"
                aria-hidden="true"
              />
              {{ event.location }}
            </p>
            <p
              class="
                mt-2
                flex
                items-center
                text-sm text-gray-500
                sm:mt-0 sm:ml-6
              "
            >
              <CalendarIcon
                class="flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"
                aria-hidden="true"
              />
              <time :datetime="event.date">{{ event.dateFull }}</time>
            </p>
          </div>

          <ChevronRightIcon class="h-5 w-5 text-gray-400" aria-hidden="true" />
        </div>
      </div>
    </a>
  </li>
</template>
